@{
    ViewData["Title"] = "Saç Modeli Tasarımı";
}

<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Kuaför Yönetim Sistemi</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <style>
        .upload-area {
            border: 2px dashed #007bff;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .upload-area input[type="file"] {
            display: none;
        }

        .preview-img {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            display: none;
        }

        .result-img {
            margin-top: 20px;
            display: none;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Kuaför Yönetim Sistemi</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Anasayfa</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Profil">Profil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Randevu">Randevu Al</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/AI">AI</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1 class="text-center">Yapay Zeka ile Saç Modeli Tasarımı</h1>
        <p class="text-center">Yapay zeka ile yüzünüze uygun saç modelini oluşturun. Fotoğrafınızı yükleyin ve AI ile
            saç modelinizi görün.</p>

        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="upload-area">
                    <label for="fileUpload" class="btn btn-primary">Fotoğraf Yükle</label>
                    <input type="file" id="fileUpload" accept="image/*" onchange="previewImage(event)" />
                    <div id="fileName" class="mt-2"></div>
                </div>

                <img id="preview" class="preview-img" alt="Yüklenen Fotoğraf" />

                <button class="btn btn-success" id="generateBtn" onclick="generateHairModel()" disabled>Saç Modelini
                    Oluştur</button>

                <div class="result-img">
                    <h3 class="text-center mt-4">Sonuç</h3>
                    <img id="result" class="img-fluid" alt="Saç Modeli" />
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const preview = document.getElementById("preview");
                    const fileName = document.getElementById("fileName");
                    preview.src = e.target.result;
                    preview.style.display = "block";
                    fileName.textContent = `Yüklenen dosya: ${file.name}`;
                    document.getElementById("generateBtn").disabled = false; // Enable the generate button
                }
                reader.readAsDataURL(file);
            }
        }

        function generateHairModel() {
            // API entegrasyonu burada yapılabilir
            const preview = document.getElementById("preview");
            const result = document.getElementById("result");
            const resultContainer = document.querySelector(".result-img");

            // Örnek bir işlem: Sonucu yüklenen fotoğraf ile gösterme
            result.src = preview.src; //API bağlantısı ile değişecel
            result.style.display = "block";
            resultContainer.style.display = "block";
        }
    </script>
</body>

</html>
